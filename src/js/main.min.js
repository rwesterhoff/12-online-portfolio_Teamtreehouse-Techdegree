function isTouch(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}function hideAllDescriptions(){for(var e=0;e<totalDesc;e++){var t=descriptions[e];t.setAttribute("data-state","hidden")}}function addButtons(){for(var e=0;e<totalProj;e++){var t=projects[e],n=document.createElement("button"),o=document.createTextNode("View more");n.appendChild(o),n.classList=btnClass,n.setAttribute("data-state","hidden"),t.appendChild(n)}}function enableClickButton(){for(var e=document.getElementsByClassName(btnClass),t=e.length,n=0;n<t;n++){var o=e[n];o.addEventListener("click",showDescription)}}function showDescription(){var e=this.parentElement.parentElement.parentElement,t=e.querySelector(".project-header"),n=document.querySelectorAll(".project-header"),o=document.body.scrollTop,l=document.getElementById("desc-"+e.id),c=function(){for(i=0;i<n.length;i++)n[i].classList.remove("clicked");l.setAttribute("data-state","visible"),t.classList.add("clicked")};hideAllDescriptions(),o!==e.offsetTop?setTimeout(function(){TweenLite.to(window,.4,{scrollTo:e.offsetTop,onComplete:c})},200):setTimeout(function(){c()},400)}function moveDescriptions(){var e,t=1,n=document.getElementById("projects"),o=function(){var o=e+1;for(t;t<=totalDesc;t++){var i=document.getElementById("desc-project-"+[t]),l=document.getElementById("project-"+[t]),c=i.parentElement,r=i.cloneNode(!0),d=t/e,a=document.getElementById("project-"+o);c.removeChild(i),Number.isInteger(d)&&(o+=e),e>1?n.insertBefore(r,a):l.appendChild(r)}};bkpSmall?e=1:bkpMedium?e=2:(bkpLarge||bkpXlarge)&&(e=3),o()}function showButtonsOnScroll(){var e=window.innerHeight,t=document.getElementsByClassName("project-header"),n=t.length,o=(document.body.scrollTop,document.documentElement.scrollTop,document.body.scrollTop+e/2),i=(document.documentElement.scrollTop+e/2,0);for(i;i<n;i++){var l=t[i],c=l.clientHeight,r=l.offsetTop,d=r+c;o>r&&o<d?l.setAttribute("data-state","focus"):l.setAttribute("data-state","blur")}}function addToggle(e){var t=document.createElement("button"),n="";n+='<div class="hamburger-icon">',n+='<div class="hamburger-icon-line"></div>',n+='<div class="hamburger-icon-line"></div>',n+='<div class="hamburger-icon-line"></div>',n+="</div>",t.innerHTML=n,e.insertBefore(t,menu),t.classList="menu-toggle"}function toggleMenu(){var e=document.querySelector(".menu-toggle");menu.className+=" menu-closed",e.addEventListener("click",function(){menu.classList.toggle("menu-closed"),menu.classList.toggle("menu-open"),e.classList.toggle("clicked")})}function enableMenu(){for(i=0;i<menuItems.length;i++)menuItems[i].addEventListener("click",goToModule)}function goToModule(e){var t=this.getAttribute("href"),n=document.querySelector(t);e.preventDefault(),setTimeout(function(){TweenLite.to(window,.4,{scrollTo:n})},200)}function checkBkp(e){e<medium?(console.log("small: "+e),bkpSmall=!0,bkpMedium=!1,bkpLarge=!1,bkpXlarge=!1):e>medium&&e<large?(console.log("medium: "+e),bkpSmall=!1,bkpMedium=!0,bkpLarge=!1,bkpXlarge=!1):e>large&&e<xlarge?(console.log("large: "+e),bkpSmall=!1,bkpMedium=!1,bkpLarge=!0,bkpXlarge=!1):e>xlarge&&(console.log("xlarge: "+e),bkpSmall=!1,bkpMedium=!1,bkpLarge=!1,bkpXlarge=!0),moveDescriptions()}function checkViewportSize(){"number"==typeof window.innerWidth?viewportWidth=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?viewportWidth=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(viewportWidth=document.body.clientWidth),checkBkp(viewportWidth)}var body=document.getElementsByTagName("body")[0],iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;iOS||body.classList.add("js"),isTouch()&&window.addEventListener("scroll",showButtonsOnScroll);var btnClass="button-cta-oncolor",projects=document.querySelectorAll("#projects .project-header .content"),descriptions=document.getElementsByClassName("project-desc"),totalDesc=descriptions.length,totalProj=projects.length;iOS||(hideAllDescriptions(),addButtons(),enableClickButton());var menu=document.getElementById("menu"),menuItems=menu.getElementsByTagName("a"),nav=document.getElementById("nav-prim");addToggle(nav),toggleMenu(),enableMenu();var small=320,medium=768,large=1024,xlarge=1440,viewportWidth,bkpSmall,bkpMedium,bkpLarge,bkpXlarge;window.addEventListener("load",checkViewportSize),window.addEventListener("resize",checkViewportSize);